<!DOCTYPE html>
<html lang="en">

<head>
  <title>Visualisations | Mortality Data</title>

  <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Lobster&display=swap" rel="stylesheet">

  <!-- Link CSS -->
  <link rel="stylesheet" href="styles.css">

</head>

<body>

  <div class="page">

    <!-- Page Title and Subtitle Container -->
    <div class="title-box-main">
      <!-- Page Title -->
      <div class="page-title">The Cycle of Life and Death</div>
      <!-- Subtitle -->
      <div class="subtitle">A deep look into global mortality patterns and their implications.</div>
    </div>

    <!-- First Visualization (Choropleth Map) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Global Death Rates</h2>
          <div class="subtitle">A comparative view of global mortality rates by country.</div>
        </div>
        <div class="spacing"></div>
        <div id="choropleth_map" class="vis-container"></div>
      </div>
    </div>

    <div class="spacing"></div>

    <!-- Second Visualization (Heatmap) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Heatmap of Mortality Causes</h2>
          <div class="subtitle">Shows intensity by cause of death and regions.</div>
        </div>
        <div class="spacing"></div>
        <div id="heatmap" class="vis-container"></div>
      </div>
    </div>

    <div class="spacing"></div>

    <!-- Third Visualization (Mortality Trends) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Trends Over Time</h2>
          <div class="subtitle">How mortality trends have evolved from 2015 to 2023.</div>
        </div>     
        <div class="spacing"></div>
        <div id="mortality_trends" class="vis-container"></div>
      </div>
    </div>

    <div class="spacing"></div>

    <!-- Fourth Visualization (Stacked Bar Chart) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Death Rates in Malaysia</h2>
          <div class="subtitle">This bar chart visualizes the death rates in Malaysia, categorized by age group and gender, for the selected year (2000-2023).</div>
        </div>
        <div class="spacing"></div>
        <div id="stacked_bar_chart" class="vis-container"></div>
      </div>
    </div>

    <div class="spacing"></div>

    <!-- Fifth Visualization (Donut Chart) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Mortality by Gender</h2>
          <div class="subtitle">This donut chart illustrates the distribution of total death rates in Malaysia by gender for a selected year (2000-2023).</div>
        </div>
        <div class="spacing"></div>
        <div id="donut_chart" class="vis-container"></div>
      </div>
    </div>

    <div class="spacing"></div>

    <!-- Sixth Visualization (Stacked Area Chart) -->
    <div class="pure-g">
      <div class="pure-u-1">
        <div class="title-box">
          <h2>Ethnicity Distribution in Malaysia by State</h2>
          <div class="subtitle">This area chart displays the population distribution by ethnicity in Malaysia across various states over time.</div>
        </div>
        <div class="spacing"></div>
        <div id="stacked_area_chart" class="vis-container"></div>
      </div>
    </div>

  </div>

  <!-- Script to Embed the Charts -->
  <script type="text/javascript">
    var vg_1 = "./js/Map.json";
    var vg_2 = "./js/heatmap.json";
    var vg_3 = "./js/Bar_Chart.json";
    var vg_4 = "./js/stacked_bar_chart.json";
    var vg_5 = "./js/donut_chart.json";
    var vg_6 = "./js/stacked_area_chart.json";

    vegaEmbed('#choropleth_map', vg_1).then(function(result) {
      console.log("Choropleth map loaded successfully");
    }).catch(console.error);

    vegaEmbed('#heatmap', vg_2).then(function(result) {
      console.log("Heatmap loaded successfully");
    }).catch(console.error);

    vegaEmbed('#mortality_trends', vg_3).then(function(result) {
      console.log("Mortality trends loaded successfully");
    }).catch(console.error);

    vegaEmbed('#stacked_bar_chart', vg_4).then(function(result) {
      console.log("Stacked bar chart loaded successfully");
    }).catch(console.error);

    vegaEmbed('#donut_chart', vg_5).then(function(result) {
      console.log("Donut chart loaded successfully");
    }).catch(console.error);

    vegaEmbed('#stacked_area_chart', vg_6).then(function(result) {
      console.log("Stacked area chart loaded successfully");
    }).catch(console.error);
  </script>
</body>

</html>
